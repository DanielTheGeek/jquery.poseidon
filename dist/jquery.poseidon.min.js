!function(e){e.extend({poseidon:function(r,o){let a=e(r),i=t(o);return a.request=function(t,n){return e.poseidon.request(t,n)},a.initialize=function(){if(a.is("form"))return a.each(function(){var t;a.submit(function(e){e.preventDefault()}),e(t=a).attr("data-poseidon",""),e(t).find("button").attr("data-poseidon-button",""),e(t).find("input[type=submit]").attr("data-poseidon-button","");let r=i.data,o=e("[data-poseidon-button]"),u=o.text();""==i.data&&(r=e(a).serialize()),e.ajax({url:e(a).attr("action"),method:i.method,data:r,dataType:i.dataType,cache:i.cache,beforeSend(){o.text("processing..."),n(i.onBeforeSend).fire()},success(t,r,a){o.text(u),e("[data-poseidon-target]").html(t),n(i.onSuccess).fire(t,r,a)},error(e,t,r){o.text(u),n(i.onError).fire(e,t,r)}})});console.error("<"+r+"> is not a valid form element")},a.initialize()}}),e.poseidon.default={method:"post",data:"",preloader:"",cache:!1,dataType:"json",pollInterval:0,headers:{},onBeforeSend:function(){},onSuccess:function(){},onError:function(){}};const t=function(t){return e.extend(!0,{},e.poseidon.default,t)},n=function(t){return e.Callbacks().add(t)};e.poseidon.request=function(r,o){return function(t,r){return e.ajax({url:t,type:r.method,data:r.data,dataType:r.dataType,cache:r.cache,headers:r.headers,beforeSend(){n(r.onBeforeSend).fire()},success(e,o,a){n(r.onSuccess).fire(e,o,a),r.pollInterval>0&&setTimeout(function(){makeRequest(t,r)},r.pollInterval)},error(e,t,o){n(r.onError).fire(e,t,o)}})}(r,t(o))},e.poseidon.render=function(e,t){return function(e){return function(t){return e.replace(/{{([^{}]*)}}/g,function(e,n){let r=n.replace(/\s/g,""),o=t[r];if("string"==typeof o||"number"==typeof o)return o;{let e=r.split(".",2),n=e[0],a=e[1];return void 0!==n&&void 0!==a&&(o=t[n],console.error(`Array ${n}: The template parser does not support arrays yet.`)),""}})}}(e)(t)}}(jQuery);